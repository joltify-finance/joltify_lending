syntax = "proto3";
package joltify.third_party.dydxprotocol.ratelimit;

import "gogoproto/gogo.proto";
import "joltify/third_party/dydxprotocol/ratelimit/limit_params.proto";

option go_package = "github.com/joltify-finance/joltify_lending/x/third_party_dydx/ratelimit/types";

// DenomCapacity stores a list of rate limit capacity for a denom.
message DenomCapacity {
  // denom is the denomination of the token being rate limited.
  // e.g. ibc/65D0BEC6DAD96C7F5043D1E54E54B6BB5D5B3AEC3FF6CEBB75B9E059F3580EA3
  string denom = 1;
  // capacity_list is a list of capacity amount tracked for each `Limiter`
  // on the denom. This list has a 1:1 mapping to `limiter` list under
  // `LimitParams`.
  repeated bytes capacity_list = 2 [
    (gogoproto.customtype) =
        "github.com/joltify-finance/joltify_lending/dydx_helper/dtypes.SerializableInt",
    (gogoproto.nullable) = false
  ];
}

// LimiterCapacity contains a pair of limiter and its corresponding capacity.
message LimiterCapacity {
  Limiter limiter = 1 [ (gogoproto.nullable) = false ];
  bytes capacity = 2 [
    (gogoproto.customtype) =
        "github.com/joltify-finance/joltify_lending/dydx_helper/dtypes.SerializableInt",
    (gogoproto.nullable) = false
  ];
}
